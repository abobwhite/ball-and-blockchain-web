<div class="row">
  <div class="col-lg-12">
    <h1 class="page-header">
      My Policies
    </h1>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">
          <i class="fa fa-money fa-fw"></i> Policies
          <span class="pull-right">
                <a class="btn btn-sm btn-success" ui-sref="PolicyCreate"><i class="fa fa-plus"></i> Policy</a>
              </span>
        </h3>
      </div>
      <div class="panel-body">
        <div class="table-responsive">
          <table class="table table-bordered table-hover table-striped">
            <thead>
            <tr>
              <th><!-- Status Icon --></th>
              <th>Risk Type</th>
              <th>Face Amount</th>
              <th>Cedant</th>
              <th>Ratings</th>
              <th>Rating Expiration</th>
              <th>Bids</th>
              <th>Bid Expiration</th>
              <td></td>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="policy in ctrl.policies" ng-class="{'selectedPolicy': ctrl.policyIsSelected(policy)}" ng-click="ctrl.selectPolicy(policy)" class="pointer">
              <td class="centered"><i class="fa" ng-class="{'fa-dollar': policy.isRequestingBids, 'fa-folder-open-o': policy.isRequestingRatings}"></i></td>
              <td>{{policy.riskType}}</td>
              <td>{{policy.policyFaceAmount}}</td>
              <td>{{policy.cedingUserId}}</td>
              <td>{{policy.ratings.length}}</td>
              <td>{{policy.ratingExpiration | date : 'short'}}</td>
              <td>{{policy.bids.length}}</td>
              <td>{{policy.offerExpiration | date : 'short'}}</td>
              <td class="text-right">
                <button class="btn btn-primary" ng-click="ctrl.viewBids(policy)">View Bids</button>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>