<div class="row">
  <div class="col-lg-12">
    <h1 class="page-header">
      My Policies
    </h1>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">
          <i class="fa fa-money fa-fw"></i> Policies
          <span class="pull-right">
                <a class="btn btn-sm btn-success" ui-sref="PolicyCreate"><i class="fa fa-plus"></i> Policy</a>
              </span>
        </h3>
      </div>
      <div class="panel-body">
        <div class="table-responsive">
          <table class="table table-bordered table-hover table-striped">
            <thead>
            <tr>
              <th><!-- Status Icon --></th>
              <th>Risk Type</th>
              <th>Face Amount</th>
              <th>Cedant</th>
              <th>Ratings</th>
              <th>Rating Expiration</th>
              <th>Bids</th>
              <th>Bid Expiration</th>
              <td></td>
            </tr>
            </thead>
            <tbody>
              <tr ng-repeat="policy1 in ctrl.policies">
                <td class="centered"><i class="fa" ng-class="{'fa-dollar': policy1.isRequestingBids, 'fa-folder-open-o': policy1.isRequestingRatings}"></i></td>
                <td>{{policy1.riskType}}</td>
                <td>{{policy1.policyFaceAmount}}</td>
                <td>{{policy1.cedingUserId}}</td>
                <td>{{policy1.ratings.length}}</td>
                <td>{{policy1.ratingExpiration | date : 'short'}}</td>
                <td>{{policy1.bids.length}}</td>
                <td>{{policy1.offerExpiration | date : 'short'}}</td>
                <td class="text-right">
                  <button class="btn btn-primary" ng-click="ctrl.viewBids(policy1)">View Bids</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>